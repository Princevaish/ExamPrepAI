{% extends "account/base.html" %}
{% load i18n %}

{% block head_title %}{% trans "Set Password" %}{% endblock %}

{% block content %}

<div class="text-center mb-4">
  <div class="mb-4">
    <i class="bi bi-key" style="font-size: 4rem; color: #00ffff; filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.6));"></i>
  </div>
  <h3 class="text-white-soft mb-3">Set Your Password</h3>
  <p class="text-muted-custom">Create a password for your account</p>
</div>

<form method="post" action="{% url 'account_set_password' %}">
  {% csrf_token %}

  {% if form.non_field_errors %}
    <div class="alert alert-danger mb-3" role="alert">
      {{ form.non_field_errors }}
    </div>
  {% endif %}

  <div class="mb-3">
    <label for="{{ form.password1.id_for_label }}" class="form-label">
      {% trans "Password" %}
    </label>
    <input type="password" 
           name="{{ form.password1.name }}" 
           class="form-control {% if form.password1.errors %}is-invalid{% endif %}"
           id="{{ form.password1.id_for_label }}"
           placeholder="Create a password"
           required
           autofocus>
    {% if form.password1.errors %}
      <div class="invalid-feedback">
        {{ form.password1.errors }}
      </div>
    {% endif %}
    {% if form.password1.help_text %}
      <small class="form-text text-muted-custom">{{ form.password1.help_text }}</small>
    {% endif %}
  </div>

  <div class="mb-4">
    <label for="{{ form.password2.id_for_label }}" class="form-label">
      {% trans "Confirm Password" %}
    </label>
    <input type="password" 
           name="{{ form.password2.name }}" 
           class="form-control {% if form.password2.errors %}is-invalid{% endif %}"
           id="{{ form.password2.id_for_label }}"
           placeholder="Confirm your password"
           required>
    {% if form.password2.errors %}
      <div class="invalid-feedback">
        {{ form.password2.errors }}
      </div>
    {% endif %}
  </div>

  {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
  {% endif %}

  <button type="submit" class="btn btn-neon w-100 mb-3">
    {% trans "Set Password" %}
  </button>

</form>

<div class="text-center mt-4">
  <a href="{% url 'account_login' %}" class="text-muted-custom small">
    {% trans "Back to Sign In" %}
  </a>
</div>

{% endblock %}