{% extends "account/base.html" %}
{% load i18n %}
{% load account %}

{% block head_title %}{% trans "Confirm E-mail Address" %}{% endblock %}

{% block content %}

{% if confirmation %}

<div class="text-center mb-4">
  <div class="mb-4">
    <i class="bi bi-shield-check" style="font-size: 4rem; color: #00ffff; filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.6));"></i>
  </div>
  <h3 class="text-white-soft mb-3">Confirm Your Email</h3>
  <p class="text-muted-custom">Please confirm that this is your email address</p>
</div>

<div class="mb-4 p-4 text-center" style="background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
  <p class="text-white-soft mb-2">
    <strong>{{ confirmation.email_address.email }}</strong>
  </p>
  <p class="text-muted-custom small mb-0">
    {% blocktrans %}Click the button below to confirm this email address.{% endblocktrans %}
  </p>
</div>

<form method="post" action="{% url 'account_confirm_email' confirmation.key %}">
  {% csrf_token %}
  
  {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
  {% endif %}
  
  <button type="submit" class="btn btn-neon w-100 mb-3">
    {% trans "Confirm Email" %}
  </button>
</form>

{% else %}

<div class="text-center mb-4">
  <div class="mb-4">
    <i class="bi bi-check-circle" style="font-size: 4rem; color: #00ff88; filter: drop-shadow(0 0 20px rgba(0, 255, 136, 0.6)); animation: successPulse 2s ease-in-out infinite;"></i>
  </div>
  <h3 class="text-white-soft mb-3">Email Already Confirmed</h3>
  <p class="text-muted-custom">This email address has already been verified</p>
</div>

<div class="alert alert-success mb-4" role="alert" style="background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(0, 255, 136, 0.3); color: #00ff88;">
  <i class="bi bi-shield-check me-2"></i>
  {% blocktrans %}Your email address is confirmed. You can now sign in to your account.{% endblocktrans %}
</div>

<a href="{% url 'account_login' %}" class="btn btn-neon w-100 mb-3">
  {% trans "Go to Sign In" %}
</a>

<style>
  @keyframes successPulse {
    0%, 100% { 
      transform: scale(1);
      filter: drop-shadow(0 0 20px rgba(0, 255, 136, 0.6));
    }
    50% { 
      transform: scale(1.05);
      filter: drop-shadow(0 0 30px rgba(0, 255, 136, 0.9));
    }
  }
</style>

{% endif %}

<div class="text-center mt-4">
  <p class="text-muted-custom small">
    {% trans "Need help?" %}
    <a href="/contacts" class="fw-semibold">{% trans "Contact Support" %}</a>
  </p>
</div>

{% endblock %}